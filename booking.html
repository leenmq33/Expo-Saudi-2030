<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Expo Saudi 2030 </title>




  <!-- ===== Google Fonts ===== -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=El+Messiri:wght@400;600;700&display=swap" rel="stylesheet">




  <!-- ===== Font Awesome ===== -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">




  <!-- ===== Unified Booking Stylesheet ===== -->
  <link rel="stylesheet" href="assets\style.css">
</head>




<body >




  <!-- ===== HEADER (UNIFIED) ===== -->
  <header class="main-header">
    <div class="header-container">
      <a href="index.html" class="logo">
        <img src="assets/images/logo.png" alt="Expo Saudi 2030 Logo">
      </a>
      <nav class="main-nav">
        <a href="index.html" >HOME</a>
       <a href="experience.html" >EXPERIENCE</a>
        <a href="explorer.html" class="is-active" >EXPLORER</a>
        <a href="pavilion.html">MY PAVILION</a>
        <a href="about.html">ABOUT US</a>
      </nav>
    </div>
  </header>




  <!-- ===== MAIN CONTENT ===== -->
  <main class="B-Reem-page-content">
    <div class="B-Reem-content-card">




      <!-- ===== Breadcrumbs ===== -->
     
  <nav class="leen-breadcrumbs" aria-label="breadcrumb">
  <a href="index.html">HOME</a>
  <span>&gt</span>
  <a href="explorer.html">EXPLORER</a>
   <span>&gt</span>
  <span class="current">BOOKING</span>
</nav>




      <!-- ===== Page Title ===== -->
      <h1 class="B-Reem-page-title">Book Your Ticket</h1>




      <!-- ===== Booking Layout ===== -->
      <div class="booking-layout">




        <!-- Experience Image -->
        <div class="exp-image-box">
          <img src="assets/images/saudi.jpg" alt="Experience Image">
        </div>




        <!-- Booking Form -->
        <div class="booking-form-container">
          <form action="booking_confirmation.html" method="GET" novalidate  >
            <div class="b-form-fields-grid">




              <!-- Name -->
              <div class="form-group full-width">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" placeholder="Enter your full name" required>
              </div>




              <!-- Email -->
              <div class="form-group full-width">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="Enter your email address" required>
              </div>




              <!-- Select Experience -->
              <div class="form-group">
                <label for="experience">Select Experience</label>
                <select id="experience" name="experience" required>
                  <option value="" disabled selected>Select an Activity</option>
                  <option value="lucid">The Lucid Experience</option>
                  <option value="neom_vr">NEOM Virtual Reality Experience</option>
                  <option value="esports">Electronic Games Exhibition</option>
                  <option value="orchestra">Saudi Orchestra Night</option>
                  <option value="aramco">Energy Oasis Exhibition (Aramco)</option>
                  <option value="safari">Desert Safari Tour</option>
                </select>
              </div>




              <!-- Payment Method -->
              <div class="form-group">
                <label for="payment">Payment Method</label>
                <select id="payment" name="payment" required>
                  <option value="" disabled selected>Select Payment Method</option>
                  <option value="visa">Visa/Mastercard</option>
                  <option value="mada">Mada</option>
                  <option value="apple_pay">Apple Pay</option>
                  <option value="cash">Cash (On Site)</option>
                </select>
              </div>
<!-- Booking Date (When you're making the booking) -->
<div class="form-group">
    <label for="booking-from-date">Booking From Date</label>
    <input type="date" id="booking-from-date" name="booking-from-date" required>
</div>




           
              <!-- Date Slot -->
<div class="form-group">
    <label for="booking-date"> Event Date</label>
    <input type="date" id="booking-date" name="booking-date"min="2030-06-01" max="2030-06-06" required>
</div>
               
              </div>




              <!-- Time Slot -->
              <div class="form-group">
                <label for="time-slot">Time Slot</label>
                <select id="time-slot" name="time-slot" required>
                  <option value="" disabled selected>Select Time Slot</option>
                  <option value="morning">Morning (09:00 AM - 12:00 PM)</option>
                  <option value="afternoon">Afternoon (12:00 PM - 04:00 PM)</option>
                  <option value="evening">Evening (04:00 PM - 09:00 PM)</option>
                </select>
              </div>




              <!-- Description -->
              <div class="form-group full-width">
                <label for="description">Request Description</label>
                <textarea id="description" name="description" rows="4" placeholder="Please describe your service request or any specific requirements..." required></textarea>
              </div>




            </div>




           <input type="submit" value="Submit" class="leen-btn leen-btn-primary" class="align-right">
          </form>
        </div>




      </div>
    </div>
  </main>




  <!-- ===== FOOTER (UNIFIED) ===== -->
  <footer class="main-footer">
  <div class="footer-container">
   
    <div class="social">
      <h4>Social Media</h4>
      <p><i class="fab fa-facebook-f" aria-hidden="true"></i>
        <a class="footer-link" href="https://www.facebook.com" target="_blank" rel="noopener">Facebook</a>
      </p>
      <p><i class="fab fa-instagram" aria-hidden="true"></i>
        <a class="footer-link" href="https://www.instagram.com" target="_blank" rel="noopener">Instagram</a>
      </p>
      <p><i class="fab fa-x-twitter" aria-hidden="true"></i>
        <a class="footer-link" href="https://x.com" target="_blank" rel="noopener">X</a>
      </p>
    </div>




    <div class="footer-logo">
      <img src="assets/images/logo.png" alt="Expo Logo">
    </div>




    <div class="contact">
      <h4>Contact Us</h4>
      <p><i class="fa-solid fa-phone" aria-hidden="true"></i>
        <a class="footer-link" href="tel:+966000000000">Phone</a>
      </p>
      <p><i class="fa-solid fa-envelope" aria-hidden="true"></i>
        <a class="footer-link" href="mailto:info@example.com">Email</a>
      </p>
      <p><i class="fa-solid fa-location-dot"></i><a href="index.html#map-section" class="footer-link">Location</a></p>
      </p>
    </div>




  </div>




  <div class="footer-bottom">
    &copy; EXPO SAUDI 2030. All rights reserved.
  </div>
</footer>
<script>

function showCustomPopup(title, message, isSuccess = false) {
  document.getElementById('popupTitle').textContent = title;
  document.getElementById('popupMessage').textContent = message;
  
  const popup = document.getElementById('customPopup');
  const buttonsContainer = popup.querySelector('.popup-buttons');
  
  if (isSuccess) {
    
    buttonsContainer.style.display = 'flex';
    buttonsContainer.style.justifyContent = 'space-between';
    buttonsContainer.style.gap = '15px';
  } else {
    
    buttonsContainer.style.display = 'none';
  
    let okButton = popup.querySelector('.popup-button-ok');
    if (!okButton) {
      okButton = document.createElement('button');
      okButton.className = 'popup-button popup-button-ok';
      okButton.textContent = 'OK';
      okButton.onclick = closePopup;
      popup.querySelector('.popup-box').appendChild(okButton);
    }
    okButton.style.display = 'block';
  }
  
  popup.style.display = 'flex';
}

function displayRequests() {
  if (!requestsContainer) {
    console.error('Requests container not found');
    return;
  }
  
  if (submittedRequests.length === 0) {
    requestsContainer.innerHTML = '<h3 style="color: #004C3F; margin-bottom: 15px;">Your Bookings</h3><p>No bookings submitted yet.</p>';
    return;
  }
  
  let requestsHTML = '<h3 style="color: #004C3F; margin-bottom: 15px;">Your Bookings</h3>';
  submittedRequests.forEach((request, index) => {
    requestsHTML += `
      <div class="request-item" style="border: 2px solid #E2B45E; padding: 15px; margin: 15px 0; border-radius: 8px; background: white;">
        <h4 style="color: #004C3F; margin-bottom: 10px;">Booking #${index + 1}</h4>
        <p><strong>Service:</strong> ${request.service}</p>
        <p><strong>Name:</strong> ${request.name}</p>
        <p><strong>Email:</strong> ${request.email}</p>
        <p><strong>Payment Method:</strong> ${request.payment}</p>
        <p><strong>Booking Date:</strong> ${request.bookingFromDate}</p>
        <p><strong>Event Date:</strong> ${request.eventDate}</p>
        <p><strong>Time Slot:</strong> ${request.time}</p>
        <p><strong>Description:</strong> ${request.description}</p>
      </div>
    `;
  });
  requestsContainer.innerHTML = requestsHTML;
}
function handleStay() {
  closePopup();
  
  // Add the current booking to submitted requests
  submittedRequests.push({
    service: serviceName,
    name: name,
    email: email,
    payment: paymentText,
    bookingFromDate: formattedBookingDate,
    eventDate: formattedEventDate,
    time: timeSlotText,
    description: description
  });
  
  // Update the display to show the new booking
  displayRequests();
  
  // Reset the form for a new booking
  resetForm();
}


function resetForm() {
  serviceSelect.selectedIndex = 0;
  nameInput.value = '';
  emailInput.value = '';
  paymentSelect.selectedIndex = 0;
  bookingFromDateInput.value = '';
  eventDateInput.value = '';
  timeSlotSelect.selectedIndex = 0;
  descriptionInput.value = '';
  
  if (charCounter) {
    charCounter.textContent = '0 characters (Minimum 100 required)';
    charCounter.style.color = '#b34a4a';
  }
}
function handleLeave() {
  closePopup();
  window.location.href = 'explorer.html';
}

function closePopup() {
  document.getElementById('customPopup').style.display = 'none';
  
  const okButton = document.querySelector('.popup-button-ok');
  if (okButton) {
    okButton.style.display = 'none';
  }
}

let submittedRequests = [];
let requestsContainer;
let serviceName, name, email, paymentText, formattedBookingDate, formattedEventDate, timeSlotText, description;
let serviceSelect, nameInput, emailInput, paymentSelect, bookingFromDateInput, eventDateInput, descriptionInput, timeSlotSelect, charCounter;

document.addEventListener('DOMContentLoaded', function() {
   
    const bookingForm = document.querySelector('form');
    serviceSelect = document.getElementById('experience');
    nameInput = document.getElementById('name');
    emailInput = document.getElementById('email');
    paymentSelect = document.getElementById('payment');
    bookingFromDateInput = document.getElementById('booking-from-date');
    eventDateInput = document.getElementById('booking-date');
    descriptionInput = document.getElementById('description');
    timeSlotSelect = document.getElementById('time-slot');
    
    
    bookingForm.removeAttribute('action');
    bookingForm.removeAttribute('method');
    
    
   requestsContainer = document.createElement('div');
    requestsContainer.className = 'submitted-requests';
    requestsContainer.style.marginTop = '40px';
    requestsContainer.style.padding = '20px';
    requestsContainer.style.borderTop = '2px solid #E2B45E';
    requestsContainer.style.backgroundColor = '#f9f9f9';
    requestsContainer.style.borderRadius = '8px';
    
    
    bookingForm.parentNode.appendChild(requestsContainer);
    
    // Function to validate full name 
    
function isValidName(name) {
   
    if (!name.trim()) return false;
    
    // Check for numbers or special characters
    const nameRegex = /^[a-zA-Z\u0600-\u06FF\s']+$/;
    if (!nameRegex.test(name)) return false;
    
    // Check for full name 
    const nameParts = name.trim().split(/\s+/).filter(part => part.length > 0);
    return nameParts.length >= 2;
}

    // Function to validate email
    function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
    
    // Function to validate dates (booking must be made at least 3 days before event)
    function isValidBookingDates(bookingFromDate, eventDate) {
        if (!bookingFromDate || !eventDate) return false;
        
        const bookingFrom = new Date(bookingFromDate);
        const event = new Date(eventDate);
        const threeDaysBeforeEvent = new Date(event);
        threeDaysBeforeEvent.setDate(event.getDate() - 3);
        
        
        bookingFrom.setHours(0, 0, 0, 0);
        threeDaysBeforeEvent.setHours(0, 0, 0, 0);
        
        // Check if booking is made at least 3 days before event
        return bookingFrom <= threeDaysBeforeEvent;
    }
    
    
    function isValidDescription(description) {
        return description.trim().length >= 100;
    }
    
    
    
    
  
    bookingForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        
        const service = serviceSelect.value;
        name = nameInput.value.trim();
        email = emailInput.value.trim();
        const payment = paymentSelect.value;
        const bookingFromDate = bookingFromDateInput.value;
        const eventDate = eventDateInput.value;
        description = descriptionInput.value.trim();
        const timeSlot = timeSlotSelect.value;
        
        
        if (!name) {
            showCustomPopup('Invalid Input', ' Please enter your full name.');
            nameInput.focus();
            return;
        }
        
        if (!isValidName(name)) {
    showCustomPopup('Invalid Input', ' Please enter a valid full name:\n• Must include first and last name\n• Only letters and spaces allowed\n• No numbers or special characters (? ! @ #, etc.)');
    nameInput.focus();
    return;
}

        if (!email) {
            showCustomPopup('Invalid Input', ' Please enter your email address.');
            emailInput.focus();
            return;
        }

        if (!isValidEmail(email)) {
            showCustomPopup('Invalid Input', ' Please enter a valid email address.');
            emailInput.focus();
            return;
        }

        if (!payment) {
            showCustomPopup('Invalid Input', ' Please select a payment method.');
            paymentSelect.focus();
            return;
        }
        
        if (!service) {
            showCustomPopup('Invalid Input', ' Please select an experience.');
            serviceSelect.focus();
            return;
        }
        
        if (!bookingFromDate) {
            showCustomPopup('Invalid Input', 'Please select a booking date.');
            bookingFromDateInput.focus();
            return;
        }
        
        if (!eventDate) {
            showCustomPopup('Invalid Input', ' Please select an event date.');
            eventDateInput.focus();
            return;
        }
        
        // Check if booking is made at least 3 days before event
        if (!isValidBookingDates(bookingFromDate, eventDate)) {
            showCustomPopup('Invalid Input', ' Booking is too soon!\n\nYou must book at least 3 days before the event date.\n\nBooking Date: ' + bookingFromDate + '\nEvent Date: ' + eventDate);
            bookingFromDateInput.focus();
            return;
        }
        
        if (!timeSlot) {
            showCustomPopup('Invalid Input', ' Please select a time slot.');
            timeSlotSelect.focus();
            return;
        }
        
        if (!description) {
            showCustomPopup('Invalid Input', ' Please enter a description.');
            descriptionInput.focus();
            return;
        }
        
        if (!isValidDescription(description)) {
            showCustomPopup('Invalid Input', ' Description is too short. Please provide at least 100 characters.\n\nCurrent length: ' + description.length + ' characters');
            descriptionInput.focus();
            return;
        }
        
        // Format dates for display
        formattedBookingDate = new Date(bookingFromDate).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        
        formattedEventDate = new Date(eventDate).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });
        
        
        serviceName = serviceSelect.options[serviceSelect.selectedIndex].text;
        timeSlotText = timeSlotSelect.options[timeSlotSelect.selectedIndex].text;
        paymentText = paymentSelect.options[paymentSelect.selectedIndex].text;
        
        // Success confirmation popup with Confirm/Decline buttons
        const shortDescription = description.length > 50 ? description.substring(0, 50) + '...' : description;

        showCustomPopup('Booking Successful!', 
    ' Your booking request has been submitted successfully!\n\n' +
    
    'Do you want to stay on this page, or go back to the Explorer page?', 
    true);
    });
    
    
    displayRequests();
    
    // Add character counter for description
    charCounter = document.createElement('div');
    charCounter.style.fontSize = '12px';
    charCounter.style.color = '#666';
    charCounter.style.marginTop = '5px';
    descriptionInput.parentNode.appendChild(charCounter);
    
    descriptionInput.addEventListener('input', function() {
        const length = this.value.length;
        charCounter.textContent = length + ' characters' + (length < 100 ? ' (Minimum 100 required)' : ' ✓');
        charCounter.style.color = length < 100 ? '#b34a4a' : '#004C3F';
    });
});
</script>
<script src="script.js"></script>
<div class="popup-overlay" id="customPopup" style="display: none;">
  <div class="popup-box">
    <h2 id="popupTitle"></h2>
    <p id="popupMessage"></p>
    <div class="popup-buttons">
      <button class="popup-button stay-button" onclick="handleStay()">Stay</button>
      <button class="popup-button leave-button" onclick="handleLeave()">Go to Explorer Page</button>
    </div>
  </div>
</div>
</body>
</html>





























